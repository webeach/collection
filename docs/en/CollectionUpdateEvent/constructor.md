# `constructor`

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `CollectionUpdateEvent` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `'update'`.  
–°–æ–±—ã—Ç–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

> üìö **–í–∞–∂–Ω–æ:** –≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

---

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```ts
const event = new CollectionUpdateEvent(items);
```

- **`items`** ‚Äî –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç** ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä `CollectionUpdateEvent`.

---

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ

1. –°–æ–∑–¥–∞—ë—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ —Ç–∏–ø–∞ `'update'`.
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –ø–æ–ª–µ `detail`.
3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º `stopImmediatePropagation()` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è.

---

## –¢–∏–ø–∏–∑–∞—Ü–∏—è

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç generics –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```ts
CollectionUpdateEvent<PrimaryKey extends string, PrimaryKeyType extends string | number | bigint, ItemData extends object>
```

- **`PrimaryKey`** ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `'key'`).
- **`PrimaryKeyType`** ‚Äî —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–∞ (`string`, `number` –∏–ª–∏ `bigint`).
- **`ItemData`** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞.

### –ü—Ä–∏–º–µ—Ä —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

```ts
const event = new CollectionUpdateEvent<
  "id",
  number,
  { id: number; name: string }
>([
  { id: 1, name: "John Doe" },
  { id: 2, name: "Alice" },
]);

console.log(event.type); // "update"
console.log(event.detail);
// [
//   { id: 1, name: 'John Doe' },
//   { id: 2, name: 'Alice' },
// ]
```
